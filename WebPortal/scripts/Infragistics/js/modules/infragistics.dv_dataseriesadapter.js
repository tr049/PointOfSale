/*!@license
* Infragistics.Web.ClientUI infragistics.dv_dataseriesadapter.js 17.1.20171.1012
*
* Copyright (c) 2011-2017 Infragistics Inc.
*
* http://www.infragistics.com/
*
* Depends:
*     jquery-1.4.4.js
*     jquery.ui.core.js
*     jquery.ui.widget.js
*     infragistics.util.js
*     infragistics.ext_core.js
*     infragistics.ext_collections.js
*     infragistics.dv_core.js
*     infragistics.dv_datasource.js
*/
(function(factory){if(typeof define==="function"&&define.amd){define(["./infragistics.util","./infragistics.ext_core","./infragistics.ext_collections","./infragistics.dv_core","./infragistics.dv_datasource"],factory)}else{factory(igRoot)}})(function($){$.ig=$.ig||{};var $$t={};$.ig.globalDefs=$.ig.globalDefs||{};$.ig.globalDefs.$$x=$$t;$$0=$.ig.globalDefs.$$0;$$4=$.ig.globalDefs.$$4;$$1=$.ig.globalDefs.$$1;$$w=$.ig.globalDefs.$$w;$$y=$.ig.globalDefs.$$y;$$6=$.ig.globalDefs.$$6;$.ig.$currDefinitions=$$t;$.ig.util.bulkDefine(["IDataSeriesAdapterRule:b","DataSeriesAdapterRunContext:c","DataSeriesDataProviderAnalyzer:d","IExternalDataSeriesAdapter:k","DataSeriesAdapterImplementation:l","DataSeriesAdapterUpdateNotifier:m","DataSeriesAdapterRunEventHandler:n","DataSeriesAdapterRunEventArgs:o","DataSeriesAdapterRemovingDuplicatesEventHandler:p","DataSeriesAdapterRemovingDuplicatesEventArgs:q","SimpleScatterSeriesRule:t","SubCollectionsRule:u","SimpleCategorySeriesRule:v"]);var $a=$.ig.intDivide,$b=$.ig.util.cast,$c=$.ig.util.defType,$d=$.ig.util.defEnum,$e=$.ig.util.getBoxIfEnum,$f=$.ig.util.getDefaultValue,$g=$.ig.util.getEnumValue,$h=$.ig.util.getValue,$i=$.ig.util.intSToU,$j=$.ig.util.nullableEquals,$k=$.ig.util.nullableIsNull,$l=$.ig.util.nullableNotEquals,$m=$.ig.util.toNullable,$n=$.ig.util.toString$1,$o=$.ig.util.u32BitwiseAnd,$p=$.ig.util.u32BitwiseOr,$q=$.ig.util.u32BitwiseXor,$r=$.ig.util.u32LS,$s=$.ig.util.unwrapNullable,$t=$.ig.util.wrapNullable,$u=String.fromCharCode,$v=$.ig.util.castObjTo$t,$w=$.ig.util.compare,$x=$.ig.util.replace,$y=$.ig.util.stringFormat,$z=$.ig.util.stringFormat1,$0=$.ig.util.stringFormat2,$1=$.ig.util.stringCompare1,$2=$.ig.util.stringCompare2,$3=$.ig.util.stringCompare3,$4=$.ig.util.isDigit,$5=$.ig.util.isDigit1,$6=$.ig.util.isLetter,$7=$.ig.util.isNumber,$8=$.ig.util.isLetterOrDigit,$9=$.ig.util.isLower,$aa=$.ig.util.toLowerCase,$ab=$.ig.util.toUpperCase,$ac=$.ig.util.compareSimple,$ad=$.ig.util.tryParseNumber,$ae=$.ig.util.tryParseNumber1,$af=$.ig.util.numberToString,$ag=$.ig.util.numberToString1,$ah=$.ig.util.parseNumber;$d("DataSeriesAxisType:j",false,false,{Category:0,Linear:1,Logarithmic:2,ContinuousDateTime:3,DiscreteDateTime:4});$d("DataSeriesType:i",false,false,{Line:0,Column:1,Area:2,Bar:3,StepLine:4,StepArea:5,Spline:6,SplineArea:7,Waterfall:8,Stacked:9,Point:10,ScatterPoint:11,ScatterLine:12,ScatterSpline:13,ScatterArea:14,ScatterContour:15,ScatterHighDensity:16,ScatterBubble:17,ShapePolygon:18,ShapePolyline:19,FinancialPrice:20,FinancialIndicator:21,FinancialOverlay:22,ValueOverlay:23,Unknown:24});$d("DataSeriesIntent:h",false,false,{PrimarySeriesValue:0,SeriesX:1,SeriesY:2,SeriesFill:3,SeriesLabel:4,SeriesRadius:5,SeriesAngle:6,SeriesShape:7,SeriesValue:8,SeriesGroup:9,SeriesTitle:10,OpenSeriesValue:11,HighSeriesValue:12,LowSeriesValue:13,CloseSeriesValue:14,VolumeSeriesValue:15,AxisLabelValue:16,AxisDateValue:17,DontPlot:18});$c("IExternalDataSeriesAdapter:k","Object",{$type:new $.ig.Type("IExternalDataSeriesAdapter",null)},true);$c("DataSeriesAdapter:a","Object",{_e:null,f:null,init:function(){this.f=new $$4.w($$0.$e.$type.specialize($$t.$a.$type,Array),0);$.ig.$op.init.call(this);this._e=new $$t.l;this._e._p=this;var a=this._e.dataSeries();a.collectionChanged=$.ig.Delegate.prototype.combine(a.collectionChanged,this.k.runOn(this))},k:function(a,b){for(var c=0;c<this.f.count();c++){this.f.__inner[c](this,this.getDataSeries())}},i:null,dataSource:function(a){if(arguments.length===1){this._e.itemsSource(a);return a}else{return this._e.itemsSource()}},getDataProvider:function(a){return function(){var $ret=new $.ig.DataSourceLocalDataProvider;$ret.dataSource(a);return $ret}()},addDataSeriesChangedListener:function(a){this.f.add(a)},removeDataSeriesChangedListener:function(a){this.f.remove(a)},addDataSeries:function(a){this._e.dataSeries().add(a)},removeDataSeries:function(a){this._e.dataSeries().remove(a)},removeDataSeriesAt:function(a){this._e.dataSeries().removeAt(a)},getDataSeriesAt:function(a){return this._e.dataSeries().__inner[a]},getDataSeries:function(){var a=new Array(this._e.dataSeries().count());for(var b=0;b<this._e.dataSeries().count();b++){a[b]=this._e.dataSeries().__inner[b]}return a},clearDataSeriess:function(){this._e.dataSeries().clear()},insertDataSeries:function(a,b){this._e.dataSeries().insert(a,b)},getDataSeriessCount:function(){return this._e.dataSeries().count()},addRule:function(a){this._e.rules().add(a)},removeRule:function(a){this._e.rules().remove(a)},removeRuleAt:function(a){this._e.rules().removeAt(a)},getRuleAt:function(a){return this._e.rules().__inner[a]},clearRules:function(){this._e.rules().clear()},insertRule:function(a,b){this._e.rules().insert(a,b)},getRulesCount:function(){return this._e.rules().count()},getRules:function(){var a=new Array(this._e.rules().count());for(var b=0;b<this._e.rules().count();b++){a[b]=this._e.rules().__inner[b]}return a},notifyClearItems:function(a){this._e.notifyClearItems(a)},notifyInsertItem:function(a,b,c){this._e.notifyInsertItem(a,b,c)},notifyRemoveItem:function(a,b,c){this._e.notifyRemoveItem(a,b,c)},notifySetItem:function(a,b,c,d){this._e.notifySetItem(a,b,c,d)},$type:new $.ig.Type("DataSeriesAdapter",$.ig.$ot,[$$t.$k.$type])},true);$c("IDataSeriesAdapterRule:b","Object",{$type:new $.ig.Type("IDataSeriesAdapterRule",null)},true);$c("DataSeriesAdapterRunContext:c","Object",{_g:null,_analyzer:null,analyzer:function(a){if(arguments.length===1){this._analyzer=a;return a}else{return this._analyzer}},init:function(a){$.ig.$op.init.call(this);this._g=a;this.analyzer(new $$t.d(this));this.analyzer().includedProperties(this._g.includedProperties());this.analyzer().excludedProperties(this._g.excludedProperties());this.h=new $$t.r;this.k=new $$4.z($.ig.IDataSourceLocalDataProvider.prototype.$type);this.m=new $$4.z(String);this.l=new $$4.z(String);this.b=this._g.includedProperties();this.a=this._g.excludedProperties()},h:null,getSubProvider:function(a,b){var c=this._g.l(a);this.pushDataSource(c);this.pushPath(b);return c},popSubProvider:function(){this.popDataSource();this.popPath()},recurseRules:function(a,b,c){this._g.ah(this,a,b,c)},k:null,m:null,l:null,b:null,a:null,includedProperties:function(){return this.b},excludedProperties:function(){return this.a},getCurrentDataSource:function(){return this.k.peek()},pushDataSource:function(a){this.k.push(a)},popDataSource:function(){return this.k.pop()},getCurrentPathSegment:function(){return this.m.peek()},getCurrentPath:function(){var a="";var b=true;var d=this.m.getEnumerator();while(d.moveNext()){var c=d.current();if(b){b=false}else{a+="."}a+=c}return a},getParentTitle:function(){if(this.l.count()==0){return null}return this.l.peek()},pushPath:function(a){this.m.push(a)},popPath:function(){return this.m.pop()},pushParentTitle:function(a){this.l.push(a)},popParentTitle:function(){return this.l.pop()},y:function(a,b){if(a.priority()==-1){a.priority(b.priority())}if(a.dataPath()==null){a.dataPath(this.getCurrentPath())}if(a.data()==null){a.data(this.getCurrentDataSource().dataSource())}},addDataSeries:function(a,b){this.y(a,b);this.h.add(a)},removeDataSeries:function(a){this.h.remove(a)},insertDataSeries:function(a,b,c){this.y(b,c);this.h.insert(a,b)},clearDataSeries:function(){this.h.clear()},getDataSeriesCount:function(){return this.h.count()},getDataSeriesAt:function(a){return this.h.__inner[a]},$type:new $.ig.Type("DataSeriesAdapterRunContext",$.ig.$ot)},true);$c("DataSeriesDataProviderAnalyzer:d","Object",{init:function(a){this.ak=new $$4.p(String,0);this.am=new $$4.w($$t.$e.$type,0);this.aj=new $$4.p(String,0);this.al=new $$4.w($$t.$e.$type,0);$.ig.$op.init.call(this);this._p=a},_p:null,b:null,a:null,s:false,r:false,ak:null,am:null,aj:null,al:null,includedProperties:function(a){if(arguments.length===1){this.b=a;this.ak.clear();if(this.b==null){this.s=false}else{this.s=true;var d=this.b;for(var c=0;c<d.length;c++){var b=d[c];if($$t.$e.a(b)){this.am.add(new $$t.e(b))}else{this.ak.add(b)}}}return a}else{return this.b}},excludedProperties:function(a){if(arguments.length===1){this.a=a;this.aj.clear();if(this.a==null){this.r=false}else{this.r=true;var d=this.a;for(var c=0;c<d.length;c++){var b=d[c];if($$t.$e.a(b)){this.al.add(new $$t.e(b))}else{this.aj.add(b)}}}return a}else{return this.a}},getParentTitle:function(){return this._p.getParentTitle()},shouldIncludeProperty:function(a,b){if(!String.isNullOrEmpty(b)){a=b+"."+a}if(this.s&&!this.ak.contains(a)&&!this.y(a)){return false}if(this.r&&(this.aj.contains(a)||this.u(a))){return false}return true},u:function(a){for(var b=0;b<this.al.count();b++){if(this.al.__inner[b].b(a)){return true}}return false},y:function(a){for(var b=0;b<this.am.count();b++){if(this.am.__inner[b].b(a)){return true}}return false},expandCamelCasedWords:function(a){if(a==null){return null}a=$x($x(a,"[",""),"]","");var b=new $$4.w($$0.$as.$type,0);var c=0;for(var d=0;d<a.length;d++){var e=a.charAt(d);var f=e.toUpperCase();var g=e.toLowerCase();if(d==0){e=f}var h=c==0&&b.count()>0;var i=c>1;if(f==e){if(h){b.add(" ")}c++}else if(g==e){if(i){b.insert(b.count()-1," ")}c=0}else{c=0}b.add(e)}var j=new $$6.aj(0);for(var k=0;k<b.count();k++){j.h(b.__inner[k])}return j.toString()},hasStringProperties:function(){return this.getAllStringProperties().length>0},getAllStringProperties:function(){return this.n(function(a){return a==0},null)},isCollection:function(a){if($b($$0.$bu.$type,a)!==null||$b(Array,a)!==null){return true}return false},getAllPropertiesWithName:function(a){return this.n(null,function(b){return b==a})},getAllNumericProperties:function(){return this.n(this.ae.runOn(this),null)},getAllObjectProperties:function(){return this.n(this.af.runOn(this),null)},getAllCollectionProperties:function(){var a=this.getAllObjectProperties();if(a.length==0){return new Array(0)}var b=this._p.getCurrentDataSource();var c=new $$4.w(String,0);for(var d=0;d<b.actualCount();d++){if(this.isCollection(b.getItemAtIndex(d))){c.add(b.actualSchema().propertyNames()[d])}}return c.toArray()},getFirstNumericProperty:function(){var a=this.getAllNumericProperties();if(a.length==0){return null}return a[0]},hasNumericProperties:function(){return this.getAllNumericProperties().length>0},ab:function(a){if(a==8||a==9){return true}return false},q:function(a){var b=this._p.getCurrentDataSource();if(b==null){return 11}var c=b.actualSchema();if(c==null){return 11}var d=-1;for(var e=0;e<c.propertyNames().length;e++){if(c.propertyNames()[e].equals(a)){d=e;break}}if(d==-1){return 11}return c.propertyTypes()[d]},n:function(a,b){var c=this._p.getCurrentDataSource();var d=c.actualSchema();if(d==null){return new Array(0)}var e=this._p.getCurrentPath();var f=0;for(var g=0;g<d.propertyTypes().length;g++){if((a==null||a(d.propertyTypes()[g]))&&(b==null||b(d.propertyNames()[g]))&&this.ai(d.propertyDataIntents(),g)&&this.shouldIncludeProperty(d.propertyNames()[g],e)){f++}}var h=new Array(f);f=0;for(var i=0;i<d.propertyTypes().length;i++){if((a==null||a(d.propertyTypes()[i]))&&(b==null||b(d.propertyNames()[i]))&&this.ai(d.propertyDataIntents(),i)&&this.shouldIncludeProperty(d.propertyNames()[i],e)){h[f]=d.propertyNames()[i];f++}}return h},ai:function(a,b){if(a==null){return true}return!this.t(a,b,"DontPlot")},t:function(a,b,c){if(a==null){return false}for(var d=0;d<a[b].length;d++){var e=a[b][d];if(String.equalsStatic(e.toLowerCase(),c.toLowerCase())){return true}}return false},getAllPropertiesWithIntent:function(a){return this.i(a,false,false)},getAllPropertiesWithValuelessIntent:function(a){return this.i(a,true,false)},getPropertyIntentValue:function(a,b){var c=this._p.getCurrentDataSource();if(c==null){return null}var d=c.actualSchema();if(d==null){return null}var e=d.propertyDataIntents();if(e==null||d.propertyNames()==null){return null}for(var f=0;f<d.propertyNames().length;f++){if(d.propertyNames()[f]!=null&&d.propertyNames()[f].equals(b)){for(var g=0;g<e[f].length;g++){var h=e[f][g];var i=h.split("/");if(i.length==2&&i[0]!=null&&i[0].equals(a)){return i[1]}}}}return null},getAllPropertiesWithValuedIntent:function(a){return this.i(a,false,true)},i:function(a,b,c){var d=this._p.getCurrentDataSource();if(d==null){return new Array(0)}var e=d.actualSchema();if(e==null){return new Array(0)}var f=e.propertyDataIntents();if(f==null||e.propertyNames()==null){return new Array(0)}var g=0;for(var h=0;h<e.propertyNames().length;h++){for(var i=0;i<f[h].length;i++){var j=f[h][i];var k=j.split("/");if(b&&k.length>1){continue}if(c&&k.length<2){continue}if(String.equalsStatic(a.toLowerCase(),k[0].toLowerCase())){g++}}}var l=new Array(g);g=0;for(var m=0;m<e.propertyNames().length;m++){for(var n=0;n<f[m].length;n++){var o=f[m][n];var p=o.split("/");if(b&&p.length>1){continue}if(c&&p.length<2){continue}if(String.equalsStatic(a.toLowerCase(),o.toLowerCase())){l[g]=e.propertyNames()[m];g++}}}return l},getAllDateTimeProperties:function(){return this.n(this.ab.runOn(this),null)},getFirstDateTimeProperty:function(){var a=this.getAllDateTimeProperties();if(a.length==0){return null}return a[0]},getFirstStringProperty:function(){var a=this.getAllStringProperties();if(a.length==0){return null}return a[0]},hasDateTimeProperties:function(){return this.getAllDateTimeProperties().length>0},ae:function(a){return a==1||a==3||a==4||a==7||a==5||a==6||a==10},af:function(a){return a==11},isMonotonic:function(a,b,c){if(a==null){return false}var d=false;var e=false;var f=a.actualCount();for(var g=0;g<Math.min(f,c);g++){if(g==0){continue}var h=$$6.$g.q(a.getItemValue(a.getItemAtIndex(g-1),b));var i=$$6.$g.q(a.getItemValue(a.getItemAtIndex(g),b));if(!e&&h!=i){d=i>h;e=true}if(h==i){continue}if(e){var j=i>h;if(j!=d){return false}}}return true},av:function(a,b,c){var d=this._p.getCurrentDataSource();var e=d.actualSchema();if(e==null){return null}var f=this.n(b,null);if(f.length==0){return null}if(d.actualCount()>a){return null}for(var g=0;g<f.length;g++){if(c(f[g],this.q(f[g]))){return f[g]}}return null},getFirstDistinctStringProperty:function(a){return this.av(a,function(b){return b==0},this.ag.runOn(this))},getFirstDistinctNumericProperty:function(a){return this.av(a,this.ae.runOn(this),this.ad.runOn(this))},getFirstDistinctMonotonicNumericProperty:function(a){var $self=this;var b=this._p.getCurrentDataSource();return this.av(a,this.ae.runOn(this),function(c,d){return $self.ad(c,d)&&$self.isMonotonic(b,c,a)})},getFirstDistinctDateTimeProperty:function(a){return this.av(a,this.ab.runOn(this),this.aa.runOn(this))},getFirstStringPropertyPreferringDistinct:function(a){var b=this.getFirstDistinctStringProperty(a);if(b!=null){return b}var c=this.getAllStringProperties();if(c.length==0){return null}return c[0]},getTitleString:function(a,b){var c=this._p.getCurrentDataSource();var d=null;if(d==null&&b!=null){for(var e=0;e<b.length;e++){if(d==null){d=this.getPropertyIntentValue($$t.$h.$getName(10),b[e])}else{d+=" - "+this.getPropertyIntentValue($$t.$h.$getName(10),b[e])}}}if(d==null){var f=this.getAllPropertiesWithValuelessIntent($$t.$h.$getName(10));if(f!=null&&f.length>0){d=f[0];d=this.ap(a,c,d)}}if(d==null){if(this.getParentTitle()!=null){d=this.getParentTitle()}}if(d==null&&a!=null){var g=this.getAllStringProperties();for(var i=0;i<g.length;i++){var h=g[i];if(h!=null&&(h.toLowerCase().equals("label")||h.toLowerCase().equals("title"))){d=h}}if(d!=null){d=this.ap(a,c,d)}}return d},ap:function(a,b,c){if(a!=null){var d=b.getItemValue(a,c);if(d!=null){c=d.toString()}}else{c=this.getNonNullPropertyValue(c).toString()}return c},getNonNullPropertyValue:function(a){var b=this._p.getCurrentDataSource();for(var c=0;c<b.actualCount();c++){var d=b.getItemValue(b.getItemAtIndex(c),a);if(d!=null){return d}}return null},ag:function(a,b){var c=this._p.getCurrentDataSource();var d=new $$4.p(String,0);for(var e=0;e<c.actualCount();e++){var f=c.getItemValue(c.getItemAtIndex(e),a);var g=f;if(d.contains(g)){return false}d.add(g)}return true},aa:function(a,b){var c=this._p.getCurrentDataSource();var d=new $$4.p($$0.$ax.$type,0);for(var e=0;e<c.actualCount();e++){var f;var g=c.getItemValue(c.getItemAtIndex(e),a);if(g==null){f=$$0.$s.minValue()}else{f=g}if(d.contains(f.getTime())){return false}d.add(f.getTime())}return true},ad:function(a,b){var c=this._p.getCurrentDataSource();if(b==4||b==1||b==3){var d=new $$4.p($$0.$ax.$type,0);for(var e=0;e<c.actualCount();e++){var f;var g=c.getItemValue(c.getItemAtIndex(e),a);if(g==null){f=-0x8000000000000000}else{f=$$6.$g.x(g)}if(d.contains(f)){return false}d.add(f)}return true}if(b==7||b==5||b==6){var h=new $$4.p(Number,0);for(var i=0;i<c.actualCount();i++){var j;var k=c.getItemValue(c.getItemAtIndex(i),a);if(k==null){j=NaN}else{j=$$6.$g.q(k)}if(h.contains(j)){return false}h.add(j)}return true}return false},$type:new $.ig.Type("DataSeriesDataProviderAnalyzer",$.ig.$ot)},true);$c("Matcher:e","Object",{c:null,init:function(a){$.ig.$op.init.call(this);var patt_=$$t.$e.d(a);this.c=new RegExp(patt_)},b:function(a){return this.c.test(a)},a:function(a){return $$t.$e.d(a)!=null},d:function(a){if(a==null){return null}if(a.startsWith("/")&&a.endsWith("/",0)){return a.substr(1,a.length-2)}if(a.startsWith("Regex(")&&a.endsWith(")",0)){return a.substr(6,a.length-7)}if(a.startsWith("RegExp(")&&a.endsWith(")",0)){return a.substr(7,a.length-8)}if(a.contains("*")||a.contains("#")||a.contains("?")){a=$x(a,".","\\.");a=$x(a,"*",".*");a=$x(a,"#","\\d+");a=$x(a,"?",".+");a=$x(a,"[","\\[");a=$x(a,"]","\\]");return"^"+a+"$"}return null},$type:new $.ig.Type("Matcher",$.ig.$ot)},true);$c("DataSeries:f","Object",{init:function(){$.ig.$op.init.call(this);this.h=new $$4.w($$t.$g.$type,0)},h:null,_name:null,name:function(a){if(arguments.length===1){this._name=a;return a}else{return this._name}},_title:null,title:function(a){if(arguments.length===1){this._title=a;return a}else{return this._title}},_data:null,data:function(a){if(arguments.length===1){this._data=a;return a}else{return this._data}},_priority:0,priority:function(a){if(arguments.length===1){this._priority=a;return a}else{return this._priority}},_suggestedPrimaryAxis:0,suggestedPrimaryAxis:function(a){if(arguments.length===1){this._suggestedPrimaryAxis=a;return a}else{return this._suggestedPrimaryAxis}},_suggestedSecondaryAxis:0,suggestedSecondaryAxis:function(a){if(arguments.length===1){this._suggestedSecondaryAxis=a;return a}else{return this._suggestedSecondaryAxis}},_suggestedSeries:0,suggestedSeries:function(a){if(arguments.length===1){this._suggestedSeries=a;return a}else{return this._suggestedSeries}},_dataPath:null,dataPath:function(a){if(arguments.length===1){this._dataPath=a;return a}else{return this._dataPath}},addMemberPathHint:function(a){this.h.add(a)},removeMemberPathHint:function(a){this.h.remove(a)},clearMemberPathHints:function(){this.h.clear()},getMemberPathHintCount:function(){return this.h.count()},getMemberPathHintAt:function(a){return this.h.__inner[a]},findMatchingHint:function(a){for(var b=0;b<this.h.count();b++){if(this.h.__inner[b].intent()==a){return this.h.__inner[b]}}return null},g:function(){return this.h},equals:function(a){var b=$b($$t.$f.$type,a);if(b==null){return false}if(!String.equalsStatic(this.name(),b.name())){return false}if(!String.equalsStatic(this.title(),b.title())){return false}if(this.data()!=b.data()){return false}if(this.priority()!=b.priority()){return false}if(this.suggestedPrimaryAxis()!=b.suggestedPrimaryAxis()){return false}if(this.suggestedSecondaryAxis()!=b.suggestedSecondaryAxis()){return false}if(this.suggestedSeries()!=b.suggestedSeries()){return false}if(!String.equalsStatic(this.dataPath(),b.dataPath())){return false}var c=this.g();var d=b.g();if(c.count()!=d.count()){return false}for(var e=0;e<c.count();e++){if(!c.item(e).equals(d.item(e))){return false}}return true},$type:new $.ig.Type("DataSeries",$.ig.$ot)},true);$c("DataSeriesMemberPathHint:g","Object",{init:function(){$.ig.$op.init.call(this)},_path:null,path:function(a){if(arguments.length===1){this._path=a;return a}else{return this._path}},_intent:0,intent:function(a){if(arguments.length===1){this._intent=a;return a}else{return this._intent}},equals:function(a){var b=$b($$t.$g.$type,a);if(b==null){return false}if(!String.equalsStatic(this.path(),b.path())){return false}if(this.intent()!=b.intent()){return false}return true},toString:function(){return $$t.$h.getBox(this.intent())+" "+this.path()},update:function(a,b){this.path(String.isNullOrEmpty(b)?a:$x(b,"NAME",a))},hasPath:function(){return!String.isNullOrEmpty(this.path())},$type:new $.ig.Type("DataSeriesMemberPathHint",$.ig.$ot)},true);$c("SimpleScatterSeriesRule:t","Object",{init:function(){$.ig.$op.init.call(this);this.priority(9);this.monotonicCheckAmount(1e4)},_priority:0,priority:function(a){if(arguments.length===1){this._priority=a;return a}else{return this._priority}},_monotonicCheckAmount:0,monotonicCheckAmount:function(a){if(arguments.length===1){this._monotonicCheckAmount=a;return a}else{return this._monotonicCheckAmount}},evaluate:function(a){var b=a.analyzer().getAllNumericProperties();if(b.length==0){return}var c=a.getCurrentDataSource().actualCount();var d=new $$4.w(String,0);for(var e=0;e<b.length;e++){d.add(b[e])}var f=this.c(d);var g=this.d(d);var h=a.analyzer().getAllPropertiesWithIntent($$t.$h.$getName(1));var i=a.analyzer().getAllPropertiesWithIntent($$t.$h.$getName(2));if(h.length>0&&i.length>0&&h.length==i.length){f.clear();g.clear();d.clear();for(var j=0;j<h.length;j++){f.add(h[j]);g.add(i[j])}}var k=0;for(k=0;k<Math.min(f.count(),g.count());k++){var l=new Array(2);l[0]=f.__inner[k];l[1]=g.__inner[k];var m=a.analyzer().getTitleString(null,l);this.f(a,f.__inner[k],g.__inner[k],m)}for(;k<f.count();k++){d.add(f.__inner[k])}for(;k<g.count();k++){d.add(g.__inner[k])}for(var n=0;n<d.count();n+=2){if(n+1>=d.count()){continue}var o=new Array(2);o[0]=d.__inner[n];o[1]=d.__inner[n+1];var p=a.analyzer().getTitleString(null,o);this.f(a,d.__inner[n],d.__inner[n+1],p)}},d:function(a){var b=new $$4.w(String,0);for(var c=0;c<a.count();c++){if(this.b(a.__inner[c])){b.add(a.__inner[c]);a.removeAt(c);c--}}return b},b:function(a){if(String.equalsStatic(a.toLowerCase(),"y")||String.equalsStatic(a.toLowerCase(),"yvalue")){return true}return false},c:function(a){var b=new $$4.w(String,0);for(var c=0;c<a.count();c++){if(this.a(a.__inner[c])){b.add(a.__inner[c]);a.removeAt(c);c--}}return b},a:function(a){if(String.equalsStatic(a.toLowerCase(),"x")||String.equalsStatic(a.toLowerCase(),"xvalue")){return true}return false},f:function(a,b,c,d){var e=new $$t.f;e.name(b+"_"+c);if(d!=null){e.title(d)}else{e.title(b+" - "+c);e.title(a.analyzer().expandCamelCasedWords(e.title()))}var f=new $$t.g;f.intent(1);f.path(b);var g=new $$t.g;g.intent(2);g.path(c);e.addMemberPathHint(f);e.addMemberPathHint(g);var h=a.getCurrentDataSource();var i=h.actualCount();if(i>this.monotonicCheckAmount()){e.suggestedSeries(11)}else{if(a.analyzer().isMonotonic(h,b,this.monotonicCheckAmount())){e.suggestedSeries(12)}else{e.suggestedSeries(11)}}e.suggestedPrimaryAxis(1);e.suggestedSecondaryAxis(1);a.addDataSeries(e,this)},$type:new $.ig.Type("SimpleScatterSeriesRule",$.ig.$ot,[$$t.$b.$type])},true);$c("SubCollectionsRule:u","Object",{init:function(){$.ig.$op.init.call(this);this.priority(0);this.collectionTransformationThreshold(50)},_priority:0,priority:function(a){if(arguments.length===1){this._priority=a;return a}else{return this._priority}},_collectionTransformationThreshold:0,collectionTransformationThreshold:function(a){if(arguments.length===1){this._collectionTransformationThreshold=a;return a}else{return this._collectionTransformationThreshold}},evaluate:function(a){var b=a.getCurrentDataSource();if(b==null){return}if(b.actualCount()==0||b.actualCount()>this.collectionTransformationThreshold()){return}var c=b.getItemAtIndex(0);if(a.analyzer().isCollection(c)){for(var d=0;d<b.actualCount();d++){if(a.analyzer().isCollection(b.getItemAtIndex(d))){var e=a.analyzer().getTitleString(b.getItemAtIndex(d),null);if(e!=null){a.pushParentTitle(e)}a.recurseRules(b.getItemAtIndex(d),"["+d+"]",false);if(e!=null){a.popParentTitle()}}}}},$type:new $.ig.Type("SubCollectionsRule",$.ig.$ot,[$$t.$b.$type])},true);$c("SimpleCategorySeriesRule:v","Object",{init:function(){$.ig.$op.init.call(this);this.priority(10);this.distinctCheckThreshold(5e4);this.useColumnThreshold(30)},_priority:0,priority:function(a){if(arguments.length===1){this._priority=a;return a}else{return this._priority}},_useColumnThreshold:0,useColumnThreshold:function(a){if(arguments.length===1){this._useColumnThreshold=a;return a}else{return this._useColumnThreshold}},_distinctCheckThreshold:0,distinctCheckThreshold:function(a){if(arguments.length===1){this._distinctCheckThreshold=a;return a}else{return this._distinctCheckThreshold}},evaluate:function(a){var b=null;var c=a.analyzer().getAllPropertiesWithIntent($$t.$h.$getName(16));if(c.length>0){b=c[0]}if(b==null){b=a.analyzer().getFirstDistinctStringProperty(this.distinctCheckThreshold())}if(b==null){b=a.analyzer().getFirstDistinctDateTimeProperty(this.distinctCheckThreshold())}if(b==null){b=a.analyzer().getFirstDistinctMonotonicNumericProperty(this.distinctCheckThreshold())}if(b==null){b=a.analyzer().getFirstDistinctNumericProperty(this.distinctCheckThreshold())}if(b==null){b=a.analyzer().getFirstStringProperty()}if(b==null){return}var d=null;var e=a.analyzer().getAllPropertiesWithIntent($$t.$h.$getName(0));if(e.length>0){d=e}if(d==null){d=a.analyzer().getAllNumericProperties()}if(d==null||d.length==0){return}var f=a.getCurrentDataSource().actualCount();for(var g=0;g<d.length;g++){if(d[g]==b){continue}var h=new Array(1);h[0]=d[g];var i=a.analyzer().getTitleString(null,h);var j=new $$t.f;var k=new $$t.g;k.intent(0);k.path(d[g]);var l=new $$t.g;l.intent(16);l.path(b);j.addMemberPathHint(k);j.addMemberPathHint(l);if(f>this.useColumnThreshold()){j.suggestedSeries(0)}else{j.suggestedSeries(1)}j.suggestedPrimaryAxis(0);j.suggestedSecondaryAxis(1);j.name(d[g]);if(i!=null){j.title(i)}else{j.title(d[g]);j.title(a.analyzer().expandCamelCasedWords(j.title()))}a.addDataSeries(j,this)}},$type:new $.ig.Type("SimpleCategorySeriesRule",$.ig.$ot,[$$t.$b.$type])},true);$c("DataSeriesAdapterImplementation:l","Object",{init:function(){this.m=new $$4.g($.ig.$op.$type,$.ig.IDataSourceLocalDataProvider.prototype.$type,0);this.c=null;this.b=null;this.a=null;$.ig.$op.init.call(this);this.rules(new $$t.s);this.dataSeries(new $$t.r);this.af(this.rules());var a=this.rules();a.collectionChanged=$.ig.Delegate.prototype.combine(a.collectionChanged,this.al.runOn(this))},af:function(a){a.add(new $$t.v);a.add(new $$t.t);a.add(new $$t.u)},al:function(a,b){this.refresh()},_p:null,g:function(){return this._p},m:null,n:null,propertyChanged:null,itemsSource:function(a){if(arguments.length===1){var b=this.n;this.n=a;if(b!=this.n){this.aa("ItemsSource",b,this.n)}return a}else{return this.n}},c:null,supportedSeriesTypes:function(a){if(arguments.length===1){var b=this.c;this.c=a;if(b!=this.c){this.aa("SupportedSeriesTypes",b,this.c)}return a}else{return this.c}},b:null,includedProperties:function(a){if(arguments.length===1){var b=this.b;this.b=a;if(b!=this.b){this.aa("IncludedProperties",b,this.b)}return a}else{return this.b}},a:null,excludedProperties:function(a){if(arguments.length===1){var b=this.a;this.a=a;if(b!=this.a){this.aa("ExcludedProperties",b,this.a)}return a}else{return this.a}},_rules:null,rules:function(a){if(arguments.length===1){this._rules=a;return a}else{return this._rules}},_dataSeries:null,dataSeries:function(a){if(arguments.length===1){this._dataSeries=a;return a}else{return this._dataSeries}},aa:function(a,b,c){this.ag(a,b,c);if(this.propertyChanged!=null){this.propertyChanged(this,new $$0.b8(a))}},ag:function(a,b,c){switch(a){case"ItemsSource":this.refresh();break;case"SupportedSeriesTypes":this.refresh();break;case"IncludedProperties":this.refresh();break;case"ExcludedProperties":this.refresh();break}},refresh:function(){this.v();var a=new $$t.c(this);var b=this.l(this.itemsSource());this.u(b,null,false);a.pushDataSource(b);this.an(a);this.ap(a)},v:function(){var b=this.m.keys().getEnumerator();while(b.moveNext()){var a=b.current();var c=this.m.item(a);c.updateNotifier(null)}this.m.clear()},ap:function(a){this.ak(a);this.aj(a);this.ao(a)},ak:function(a){var b=true;if(this.removingUnsupported!=null){var c=function(){var $ret=new $$t.o;$ret.runContext(a);return $ret}();this.removingUnsupported(this,c);b=!c.handled()}if(b){if(this.supportedSeriesTypes()==null){return}var d=new $$4.p($$t.$i.$type,0);for(var e=0;e<this.supportedSeriesTypes().length;e++){d.add(this.supportedSeriesTypes()[e])}for(var f=a.getDataSeriesCount()-1;f>=0;f--){var g=a.getDataSeriesAt(f);if(!d.contains(g.suggestedSeries())){a.removeDataSeries(g)}}}},ao:function(a){var b=0;for(;b<Math.min(this.dataSeries().count(),a.getDataSeriesCount());b++){if(!this.dataSeries().__inner[b].equals(a.getDataSeriesAt(b))){this.dataSeries().removeAt(b);b--}}for(;b<a.getDataSeriesCount();b++){this.dataSeries().insert(b,a.getDataSeriesAt(b))}for(;b<this.dataSeries().count();b++){this.dataSeries().removeAt(b);b--}},removingUnsupported:null,removingDuplicates:null,aj:function(a){var b=new $$4.g(String,$$4.$w.$type.specialize($$t.$f.$type),0);for(var c=0;c<a.getDataSeriesCount();c++){var d=a.getDataSeriesAt(c);var e=d.g();for(var f=0;f<e.count();f++){if(e.item(f).intent()==16||e.item(f).intent()==17){continue}var g=(d.dataPath()!=null?d.dataPath()+".":"")+e.item(f).path();if(!b.containsKey(g)){b.item(g,new $$4.w($$t.$f.$type,0))}b.item(g).add(d)}}var i=b.keys().getEnumerator();while(i.moveNext()){var h=i.current();if(b.item(h).count()>1){var j=new Array(b.item(h).count());var k=b.item(h);var l=k.count();for(var m=0;m<l;m++){j[m]=k.__inner[m]}var n=true;if(this.removingDuplicates!=null){var o=function(){var $ret=new $$t.q;$ret.duplicatePath(h);$ret.runContext(a);$ret.matchingSeries(j);return $ret}();n=!o.handled()}if(n){var p=-1;var q=null;k=b.item(h);l=k.count();for(var r=0;r<l;r++){var s=k.__inner[r];if(s.priority()>p){p=s.priority();q=s}}for(var t=0;t<l;t++){var u=k.__inner[t];if(u!=q){a.removeDataSeries(u)}}}}}},an:function(a){for(var b=0;b<this.rules().count();b++){this.am(a,this.rules().__inner[b])}},am:function(a,b){b.evaluate(a)},l:function(a){if(a!=null&&this.m.containsKey(a)){return this.m.item(a)}return this.g().getDataProvider(a)},ah:function(a,b,c,d){var e=this.l(b);this.u(e,a.getCurrentDataSource(),d);a.pushDataSource(e);a.pushPath(c);this.an(a);a.popPath();a.popDataSource()},u:function(a,b,c){if(a.dataSource()!=null){this.m.add(a.dataSource(),a)}if(b!=null){var d=new $$t.m(this,a);b.updateNotifier(d)}if(c){var e=new $$t.m(this,a);a.updateNotifier(e)}},ab:function(a){this.refresh()},ac:function(a,b,c){this.refresh()},ad:function(a,b,c){this.refresh()},ae:function(a,b,c,d){this.refresh()},notifyClearItems:function(a){if(this.m.containsKey(a)){this.m.item(a).notifyClearItems()}},notifyInsertItem:function(a,b,c){if(this.m.containsKey(a)){this.m.item(a).notifyInsertItem(b,c)}},notifyRemoveItem:function(a,b,c){if(this.m.containsKey(a)){this.m.item(a).notifyRemoveItem(b,c)}},notifySetItem:function(a,b,c,d){if(this.m.containsKey(a)){this.m.item(a).notifySetItem(b,c,d)}},$type:new $.ig.Type("DataSeriesAdapterImplementation",$.ig.$ot,[$$0.$b7.$type])},true);$c("DataSeriesAdapterUpdateNotifier:m","Object",{a:null,b:null,init:function(a,b){$.ig.$op.init.call(this);this.a=a;this.b=b},notifyClearItems:function(){this.a.ab(this.b)},notifyInsertItem:function(a,b){this.a.ac(this.b,a,b)},notifyRemoveItem:function(a,b){this.a.ad(this.b,a,b)},notifySetItem:function(a,b,c){this.a.ae(this.b,a,b,c)},$type:new $.ig.Type("DataSeriesAdapterUpdateNotifier",$.ig.$ot,[$.ig.IDataSourceDataProviderUpdateNotifier.prototype.$type])},true);$c("DataSeriesAdapterRunEventArgs:o","Object",{init:function(){$.ig.$op.init.call(this)},_runContext:null,runContext:function(a){if(arguments.length===1){this._runContext=a;return a}else{return this._runContext}},_handled:false,handled:function(a){if(arguments.length===1){this._handled=a;
return a}else{return this._handled}},$type:new $.ig.Type("DataSeriesAdapterRunEventArgs",$.ig.$ot)},true);$c("DataSeriesAdapterRemovingDuplicatesEventArgs:q","Object",{init:function(){$.ig.$op.init.call(this)},_runContext:null,runContext:function(a){if(arguments.length===1){this._runContext=a;return a}else{return this._runContext}},_dataSourcePath:null,dataSourcePath:function(a){if(arguments.length===1){this._dataSourcePath=a;return a}else{return this._dataSourcePath}},_duplicatePath:null,duplicatePath:function(a){if(arguments.length===1){this._duplicatePath=a;return a}else{return this._duplicatePath}},_matchingSeries:null,matchingSeries:function(a){if(arguments.length===1){this._matchingSeries=a;return a}else{return this._matchingSeries}},_handled:false,handled:function(a){if(arguments.length===1){this._handled=a;return a}else{return this._handled}},$type:new $.ig.Type("DataSeriesAdapterRemovingDuplicatesEventArgs",$.ig.$ot)},true);$c("DataSeriesCollection:r","ObservableCollection$1",{init:function(){$$4.$e.init.call(this,$$t.$f.$type,0)},$type:new $.ig.Type("DataSeriesCollection",$$4.$e.$type.specialize($$t.$f.$type))},true);$c("DataSeriesAdapterRuleCollection:s","ObservableCollection$1",{init:function(){$$4.$e.init.call(this,$$t.$b.$type,0)},$type:new $.ig.Type("DataSeriesAdapterRuleCollection",$$4.$e.$type.specialize($$t.$b.$type))},true);$$t.$l.s="ItemsSource";$$t.$l.t="SupportedSeriesTypes";$$t.$l.r="IncludedProperties";$$t.$l.q="ExcludedProperties"});(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else{factory(jQuery)}})(function($){$(document).ready(function(){var wm=$("#__ig_wm__").length>0?$("#__ig_wm__"):$("<div id='__ig_wm__'></div>").appendTo(document.body);wm.css({position:"fixed",bottom:0,right:0,zIndex:1e3}).addClass("ui-igtrialwatermark")})});